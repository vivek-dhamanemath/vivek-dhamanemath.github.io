<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Contact - Vivek Dhamanemath</title>
  <meta name="description" content="Get in touch with Vivek Dhamanemath">
  <meta name="keywords" content="contact, Vivek Dhamanemath, email, message">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">

  <!-- Main CSS File -->
  <link href="assets/css/main.css" rel="stylesheet">
  <link href="assets/css/contact.css" rel="stylesheet">
</head>

<body class="contact-page">

  <!-- Header Placeholder -->
  <div id="header-placeholder"></div>

  <main class="main">
    <section id="contact" class="contact section">
      <div class="container" data-aos="fade-up">
        <div class="row gy-4">
          <!-- Contact Info -->
          <div class="col-lg-5">
            <div class="contact-info">
              <h2>Contact Me</h2>
              <p>Feel free to reach out for collaborations, questions, or just to say hi!</p>
              <ul>
                <li><i class="bi bi-geo-alt"></i> Bengaluru, India</li>
                <li><i class="bi bi-envelope"></i> vivekjdwork@gmail.com</li>
                <li><i class="bi bi-telephone"></i> +91 9902866318</li>
              </ul>
            </div>
          </div>

          <!-- Contact Form -->
          <div class="col-lg-7">
            <form id="contact-form" action="https://formspree.io/f/mwppnjdn" method="POST" class="contact-form">
              <div class="row">
                <div class="col-md-6">
                  <div class="form-floating">
                    <input type="text" id="name" name="name" class="form-control" placeholder="Your Name" required>
                    <label for="name"><i class="bi bi-person"></i> Your Name</label>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-floating">
                    <input type="email" id="email" name="email" class="form-control" placeholder="Your Email" required>
                    <label for="email"><i class="bi bi-envelope"></i> Your Email</label>
                  </div>
                </div>
              </div>
              <div class="form-floating mt-3">
                <input type="text" id="subject" name="subject" class="form-control" placeholder="Subject" required>
                <label for="subject"><i class="bi bi-chat-left-text"></i> Subject</label>
              </div>
              <div class="form-floating mt-3">
                <textarea id="message" name="message" class="form-control" placeholder="Your Message" rows="5" required></textarea>
                <label for="message"><i class="bi bi-pencil"></i> Your Message</label>
              </div>
              
              <!-- Add honeypot field to prevent spam -->
              <div style="position: absolute; left: -9999px;">
                <input type="text" name="_gotcha" tabindex="-1" autocomplete="off">
              </div>
              
              <div class="text-center mt-4">
                <button type="submit" class="btn-submit">Send Message</button>
              </div>
              <div id="response-message" class="mt-3"></div>
              
              <!-- Add direct contact information as a fallback -->
              <div class="direct-contact mt-4">
                <div class="alert alert-info">
                  <p><strong>Note:</strong> If the contact form doesn't work, please email me directly at <a href="mailto:vivekjdwork@gmail.com">vivekjdwork@gmail.com</a></p>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer Placeholder -->
  <div id="footer-placeholder"></div>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/waypoints/noframework.waypoints.js"></script>
  <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/imagesloaded/imagesloaded.pkgd.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>

  <!-- Main JS Files -->
  <script src="assets/js/main.js"></script>
  <script src="assets/js/components.js"></script>
  <link href="assets/css/navbar.css" rel="stylesheet">

  <!-- Thank You Modal -->
  <div class="modal fade" id="thankYouModal" tabindex="-1" aria-labelledby="thankYouModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="thankYouModalLabel">Thank You!</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          Your message has been sent successfully. I will get back to you soon.
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Form submission handler with improved success message handling
    document.getElementById('contact-form').addEventListener('submit', async function(event) {
      event.preventDefault();
      
      const form = event.target;
      const formData = new FormData(form);
      const responseMessage = document.getElementById('response-message');
      const submitButton = form.querySelector('button[type="submit"]');
      
      // Clear previous messages
      responseMessage.innerHTML = '';
      
      // Show loading state
      submitButton.disabled = true;
      submitButton.innerHTML = '<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Sending...';
      
      try {
        const response = await fetch(form.action, {
          method: form.method,
          body: formData,
          headers: {
            'Accept': 'application/json'
          }
        });
        
        if (response.ok) {
          // Success message with properly centered alert
          responseMessage.innerHTML = '<div class="alert alert-success" role="alert"><i class="bi bi-check-circle me-2"></i>Your message has been sent successfully! I\'ll get back to you soon.</div>';
          form.reset();
          
          // Scroll to the success message
          responseMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
          
          // Hide direct contact info after successful submission
          const directContact = document.querySelector('.direct-contact');
          if (directContact) directContact.style.display = 'none';
        } else {
          // Error message
          responseMessage.innerHTML = '<div class="alert alert-danger" role="alert"><i class="bi bi-exclamation-triangle me-2"></i>There was an error sending your message. Please try emailing me directly.</div>';
        }
      } catch (error) {
        responseMessage.innerHTML = '<div class="alert alert-danger" role="alert"><i class="bi bi-exclamation-triangle me-2"></i>There was a connection error. Please try again later or email me directly.</div>';
      } finally {
        // Reset button state
        submitButton.disabled = false;
        submitButton.innerHTML = 'Send Message';
      }
    });

    document.addEventListener('DOMContentLoaded', function() {
      const dropdowns = document.querySelectorAll('.dropdown > a');
      dropdowns.forEach(dropdown => {
        dropdown.addEventListener('click', function(event) {
          event.preventDefault();
          this.nextElementSibling.classList.toggle('show');
        });
      });
    });
  </script>

</body>

</html>